version: '2.0'

services:
  gub-android:
    image: gub/android
    build:
      context: .
      args:
        NDK_TARGET_LEVEL:         android-28
        NDK_APP_ABI:              armeabi-v7a
        ANT_VERSION:              1.9.9
        GST_ANDROID_ARCH:         armv7
        GST_ANDROID_VERSION:      1.16.0
    environment:
      MOUNT_GST_UNITY_BRIDGE:     /mnt/gst-unity-bridge
      MOUNT_OUTPUT_PATH:          /mnt/output
      MOUNT_LIB_GST_ANDROID:      /mnt/libgstreamer_android.so
    # entrypoint: /bin/sh
    volumes:
      - $GUB_HOME:/mnt/gst-unity-bridge:ro
      - $GUB_HOME/output:/mnt/output
